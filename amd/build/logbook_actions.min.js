define ("local_booking/logbook_actions",["jquery","core/notification","core/modal_factory","local_booking/modal_logentry_form","local_booking/events","local_booking/selectors","core/pending"],function(a,b,c,d,e,f,g){return{registerEditListeners:function(c,d){var h=new g("local_booking/logbook_actions:registerEditListeners");return d.then(function(b){a("body").on(e.editEvent,function(a,d){var e=c.find(f.wrapper);b.setEventId(d);b.setContextId(e.data("contextId"));b.show();a.stopImmediatePropagation()});return b}).then(function(a){h.resolve();return a}).catch(b.exception)},registerLogentryFormModal:function registerLogentryFormModal(e){var g=c.create({type:d.TYPE,large:!0});e.on("click",f.actions.create,function(a){g.then(function(a){var b=e.find(f.progressionwrapper),c=b.data("exerciseid");if("undefined"!=typeof c){a.setExerciseId(c)}var d=e.find(f.today),g=e.find(f.day);if(!d.length&&g.length){a.setStartTime(g.data("newEventTimestamp"))}a.setContextId(b.data("context-id"));a.setCourseId(b.data("courseid"));a.show()}).fail(b.exception);a.preventDefault()});e.on("click",f.actions.edit,function(c){c.preventDefault();var d=a(c.currentTarget),e=d.closest(f.wrapper),h=d.closest(f.eventItem);g.then(function(a){a.setEventId(h.data("eventId"));a.setContextId(e.data("contextId"));a.show();c.stopImmediatePropagation()}).fail(b.exception)});return g}}});
//# sourceMappingURL=logbook_actions.min.js.map
