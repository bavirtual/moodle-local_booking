{"version":3,"sources":["../src/logbook.js"],"names":["init","root","ViewManager","startLoading","courseId","data","userId","logentries","Repository","getPilotLogbook","then","entries","forEach","logentry","push","flightdate","depicao","deptime","arricao","arrtime","aircraft","aircraftreg","enginetype","multipilot","pictime","route","p1name","landingsday","landingsnight","nighttime","ifrtime","copilottime","dualtime","instructortime","picustime","fstd","remarks","DataTable","api","intVal","i","parseInt","substring","indexOf","length","multipilotTotal","column","page","reduce","a","b","grandTotal","daylandingsTotal","nightlandingsTotal","nightimeTotal","ifrtimeTotal","pictimeTotal","copilottimeTotal","dualtimeTotal","insttimeTotal","picustimeTotal","timeVal","time","hrs","mins","footer","html","always","stopLoading","fail","Notification","exception"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-vars */\n// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * This module handles datatables for the logbook view.\n *\n * @module     local_booking/logbook\n * @author     Mustafa Hajjar (mustafahajjar@gmail.com)\n * @copyright  BAVirtual.co.uk Â© 2021\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport $ from 'jquery';\nimport 'local_booking/jquery.dataTables';\nimport 'local_booking/dataTables.bootstrap4';\nimport Notification from 'core/notification';\nimport * as Repository from 'local_booking/repository';\nimport * as ViewManager from 'local_booking/booking_view_manager';\nimport 'local_booking/datatables';\n\nexport const init = (root) => {\n    ViewManager.startLoading(root);\n    var courseId = $(root).data('courseid');\n    var userId = $(root).data('userid');\n    var logentries = [];\n\n    return Repository.getPilotLogbook(courseId, userId)\n    .then((entries) => {\n        entries.forEach(logentry => {\n            logentries.push([\n                logentry.flightdate,\n                logentry.depicao,\n                logentry.deptime,\n                logentry.arricao,\n                logentry.arrtime,\n                logentry.aircraft,\n                (logentry.aircraftreg !== undefined ? logentry.aircraftreg : ''),\n                (logentry.enginetype == 'SE') ? 'X' : '',\n                (logentry.enginetype == 'ME') ? 'X' : '',\n                (logentry.multipilot !== undefined ? logentry.multipilot : ''),\n                logentry.pictime,\n                logentry.route,\n                logentry.p1name,\n                logentry.landingsday,\n                logentry.landingsnight,\n                logentry.nighttime,\n                logentry.ifrtime,\n                logentry.pictime,\n                logentry.copilottime,\n                logentry.dualtime,\n                logentry.instructortime,\n                (logentry.picustime !== undefined ? logentry.picustime : ''),\n                logentry.fstd,\n                logentry.remarks,\n            ]);\n        });\n\n        // Define column constants\n        const FLIGHTDATE = 0, DEPICAO = 1, DEPTIME = 2, ARRICAO = 3, ARRTIME = 4, AIRCRAFT = 5,\n              AIRCRAFTREG = 6, ENGINETYPE_SE = 7, ENGINETYPE_ME = 8, MULTIPILOT = 9, TOTALTIME = 10,\n              P1NAME = 11, ROUTE = 22, LANDINGSDAY = 12, LANDINGSNIGHT = 13, NIGHTTIME = 14, IFRTIME = 15,\n              PICTIME = 16, COPILOTTIME = 17, DUALTIME = 18, INSTTIME = 19, PICUSTIME = 20,\n              FSTD = 21, REMARKS = 22;\n\n        $('#logbook').DataTable({\n            data: logentries,\n            \"order\": [[0, \"desc\"]],\n            \"lengthMenu\": [[10, 25, 50, 100, -1], [10, 25, 50, 100, \"All\"]],\n            \"columnDefs\": [\n                {\"width\": \"80px\", \"targets\": FLIGHTDATE}, // Column: flightdate\n                {\"width\": \"50px\", \"targets\": DEPICAO}, // Column: depicao\n                {\"width\": \"45px\", \"targets\": DEPTIME}, // Column: deptime\n                {\"width\": \"50px\", \"targets\": ARRICAO}, // Column: arricao\n                {\"width\": \"45px\", \"targets\": ARRTIME}, // Column: arrtime\n                {\"width\": \"50px\", \"targets\": AIRCRAFT}, // Column: aircraft\n                {\"width\": \"50px\", \"targets\": AIRCRAFTREG}, // Column: aircraftreg\n                {\"width\": \"25px\", \"className\": \"dt-center\", \"targets\": ENGINETYPE_SE}, // Column: enginetype 'SE'\n                {\"width\": \"25px\", \"className\": \"dt-center\", \"targets\": ENGINETYPE_ME}, // Column: enginetype 'ME'\n                {\"width\": \"45px\", \"targets\": MULTIPILOT}, // Column: multipilot\n                {\"width\": \"45px\", \"targets\": TOTALTIME}, // Column: totaltime\n                {\"width\": \"160px\", \"targets\": P1NAME}, // Column: p1name\n                {\"width\": \"200px\", \"targets\": ROUTE}, // Column: route\n                {\"width\": \"35px\", \"className\": \"dt-center\", \"targets\": LANDINGSDAY}, // Column: landingsday\n                {\"width\": \"35px\", \"className\": \"dt-center\", \"targets\": LANDINGSNIGHT}, // Column: landingsnight\n                {\"width\": \"50px\", \"targets\": NIGHTTIME}, // Column: nighttime\n                {\"width\": \"45px\", \"targets\": IFRTIME}, // Column: ifrtime\n                {\"width\": \"45px\", \"targets\": PICTIME}, // Column: pictime\n                {\"width\": \"45px\", \"targets\": COPILOTTIME}, // Column: copilottime\n                {\"width\": \"45px\", \"targets\": DUALTIME}, // Column: dualtime\n                {\"width\": \"45px\", \"targets\": INSTTIME}, // Column: instructortime\n                {\"width\": \"45px\", \"targets\": PICUSTIME}, // Column: picustime\n                {\"width\": \"30px\", \"targets\": FSTD}, // Column: fstd\n                {\"width\": \"200px\", \"targets\": REMARKS} // Column: remarks\n            ],\n            \"footerCallback\": function(row, data, start, end, display) {\n                var api = this.api();\n\n                // Convert to interger to find total\n                var intVal = function(i) {\n                    // Convert time format to number of minutes\n                    // eslint-disable-next-line no-nested-ternary\n                    return parseInt((typeof i === 'string') ? (parseInt((i.substring(0, i.indexOf(':'))) * 60) +\n                        parseInt(i.substring(i.indexOf(':') + 1, i.length))) : ((typeof i === 'number') ? i : 0));\n                };\n\n                // Calculate column Total of the complete result\n                var multipilotTotal = api.column(MULTIPILOT, {page: 'current'}).data().reduce(function(a, b) {\n                        return intVal(a) + intVal(b);\n                    }, 0);\n\n                var grandTotal = api.column(TOTALTIME, {page: 'current'}).data().reduce(function(a, b) {\n                        return intVal(a) + intVal(b);\n                    }, 0);\n\n                var daylandingsTotal = api.column(LANDINGSDAY, {page: 'current'}).data().reduce(function(a, b) {\n                        return intVal(a) + intVal(b);\n                    }, 0);\n\n                var nightlandingsTotal = api.column(LANDINGSNIGHT, {page: 'current'}).data().reduce(function(a, b) {\n                        return intVal(a) + intVal(b);\n                    }, 0);\n\n                var nightimeTotal = api.column(NIGHTTIME, {page: 'current'}).data().reduce(function(a, b) {\n                        return intVal(a) + intVal(b);\n                    }, 0);\n\n                var ifrtimeTotal = api.column(IFRTIME, {page: 'current'}).data().reduce(function(a, b) {\n                        return intVal(a) + intVal(b);\n                    }, 0);\n\n                var pictimeTotal = api.column(PICTIME, {page: 'current'}).data().reduce(function(a, b) {\n                        return intVal(a) + intVal(b);\n                    }, 0);\n\n                var copilottimeTotal = api.column(COPILOTTIME, {page: 'current'}).data().reduce(function(a, b) {\n                        return intVal(a) + intVal(b);\n                    }, 0);\n\n                var dualtimeTotal = api.column(DUALTIME, {page: 'current'}).data().reduce(function(a, b) {\n                        return intVal(a) + intVal(b);\n                    }, 0);\n\n                var insttimeTotal = api.column(INSTTIME, {page: 'current'}).data().reduce(function(a, b) {\n                        return intVal(a) + intVal(b);\n                    }, 0);\n\n                var picustimeTotal = api.column(PICUSTIME, {page: 'current'}).data().reduce(function(a, b) {\n                        return intVal(a) + intVal(b);\n                    }, 0);\n\n                // Convert number of minutes to time\n                var timeVal = function(i) {\n                    var time = i;\n                    if (i > 0) {\n                        var hrs = parseInt(i / 60);\n                        hrs = hrs < 10 ? ('00' + hrs).substring(('00' + hrs).length, -2) : hrs;\n                        var mins = '00' + (i % 60);\n                        time = hrs + ':' + mins.substring(mins.length - 2);\n                    }\n                    return time;\n                };\n\n                // Update footer by showing the total with the reference of the column index\n                $(api.column(MULTIPILOT).footer()).html(multipilotTotal != 0 ? timeVal(multipilotTotal) : '');\n                $(api.column(TOTALTIME).footer()).html(timeVal(grandTotal));\n                $(api.column(LANDINGSDAY).footer()).html(daylandingsTotal != 0 ? daylandingsTotal : '');\n                $(api.column(LANDINGSNIGHT).footer()).html(nightlandingsTotal != 0 ? nightlandingsTotal : '');\n                $(api.column(NIGHTTIME).footer()).html(nightimeTotal != 0 ? timeVal(nightimeTotal) : '');\n                $(api.column(IFRTIME).footer()).html(ifrtimeTotal != 0 ? timeVal(ifrtimeTotal) : '');\n                $(api.column(PICTIME).footer()).html(pictimeTotal != 0 ? timeVal(pictimeTotal) : '');\n                $(api.column(COPILOTTIME).footer()).html(copilottimeTotal != 0 ? timeVal(copilottimeTotal) : '');\n                $(api.column(DUALTIME).footer()).html(dualtimeTotal != 0 ? timeVal(dualtimeTotal) : '');\n                $(api.column(INSTTIME).footer()).html(insttimeTotal != 0 ? timeVal(insttimeTotal) : '');\n                $(api.column(PICUSTIME).footer()).html(picustimeTotal != 0 ? timeVal(picustimeTotal) : '');\n            },\n            \"processing\": true\n        });\n\n        return;\n    })\n    .always(() => {\n        ViewManager.stopLoading(root);\n    })\n    .fail(Notification.exception);\n };"],"file":"logbook.min.js"}