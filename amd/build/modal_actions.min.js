define ("local_booking/modal_actions",["jquery","core/str","core/notification","core/modal_factory","core/modal_events","core/pending","local_booking/repository","local_booking/events","local_booking/selectors","local_booking/booking_actions"],function(a,b,c,d,e,f,g,h,i,j){var k=function(i,j,k){var l=new f("local_booking/booking_actions:confirmDeletion"),m=[{key:"deletelogentry",component:"local_booking"}],n;m.push({key:"confirmlogentrydelete",component:"local_booking"});n=d.create({type:d.types.SAVE_CANCEL});var o=b.get_strings(m),p=a.when(o,n).then(function(b,d){d.setRemoveOnClose(!0);d.setTitle(b[0]);d.setBody(b[1]);d.setSaveButtonText(b[0]);d.show();d.getRoot().on(e.save,function(){var b=new f("local_booking/booking_actions:initModal:deletedlogentry");g.deleteLogentry(i,j,k).then(function(){a("body").trigger(h.deleted,[i,!1])}).then(b.resolve).always(function(){c.fetchNotifications()}).catch(c.exception)});return d}).then(function(a){l.resolve();return a}).catch(c.exception);return p};return{registerDelete:function registerDelete(a){a.on("click",i.actions.deleteLogentry,function(b){var c=a.find(i.logentryitem),d=c.data("logentryId"),e=c.data("userId"),f=c.data("courseId");k(d,e,f);b.preventDefault()})},registerRedirect:function registerRedirect(a){a.on("click",i.actions.gotoFeedback,function(b){j.gotoFeedback(a,b);b.preventDefault()})}}});
//# sourceMappingURL=modal_actions.min.js.map
