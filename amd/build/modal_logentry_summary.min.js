define ("local_booking/modal_logentry_summary",["jquery","core/str","core/notification","core/custom_interaction_events","core/modal","core/modal_registry","core/modal_factory","core/modal_events","local_booking/events","local_booking/booking_actions"],function(a,b,c,d,e,f,g,h,i,j){var k=!1,l={ROOT:"[data-region='summary-modal-container']",ADD_BUTTON:"[data-action=\"add\"]",EDIT_BUTTON:"[data-action=\"edit\"]",DELETE_BUTTON:"[data-action=\"delete\"]",FEEDBACK_BUTTON:"[data-action=\"feedback\"]"},m=function(a){e.call(this,a)};m.TYPE="local_booking-logentry_summary";m.prototype=Object.create(e.prototype);m.prototype.constructor=m;m.prototype.getFeedbackButton=function(){if("undefined"==typeof this.feedbackButton){this.feedbackButton=this.getFooter().find(l.FEEDBACK_BUTTON)}return this.feedbackButton};m.prototype.getAddButton=function(){if("undefined"==typeof this.addButton){this.addButton=this.getFooter().find(l.ADD_BUTTON)}return this.addButton};m.prototype.getEditButton=function(){if("undefined"==typeof this.editButton){this.editButton=this.getFooter().find(l.EDIT_BUTTON)}return this.editButton};m.prototype.getDeleteButton=function(){if("undefined"==typeof this.deleteButton){this.deleteButton=this.getFooter().find(l.DELETE_BUTTON)}return this.deleteButton};m.prototype.getLogentryId=function(){return this.getBody().find(l.ROOT).attr("data-logentry-id")};m.prototype.getUserId=function(){return this.getBody().find(l.ROOT).attr("data-user-id")};m.prototype.getExerciseId=function(){return this.getBody().find(l.ROOT).attr("data-exercise-id")};m.prototype.getFlightDate=function(){return this.getBody().find(l.ROOT).attr("data-flight-date")};m.prototype.getLogentryTitle=function(){return this.getBody().find(l.ROOT).attr("data-logentry-title")};m.prototype.registerEventListeners=function(){e.prototype.registerEventListeners.call(this);M.util.js_pending("local_booking/modal_logentry_summary:registerEventListeners:bodyRendered");this.getRoot().on(h.bodyRendered,function(){this.getModal().data({logentryTitle:this.getLogentryTitle(),logentryId:this.getLogentryId()}).attr("data-type","logentry");j.registerDelete(this.getModal());j.registerRedirect(this.getModal());M.util.js_complete("local_booking/modal_logentry_summary:registerEventListeners:bodyRendered")}.bind(this));a("body").on(i.deleted,function(){this.hide()}.bind(this));a("body").on(i.gotoFeedback,function(){this.hide()}.bind(this));d.define(this.getAddButton(),[d.events.activate]);d.define(this.getEditButton(),[d.events.activate]);this.getAddButton().on(d.events.activate,function(b,c){a("body").trigger(i.addLogentry,[this.getExerciseId(),this.getUserId(),this.getFlightDate()]);this.hide();b.preventDefault();b.stopPropagation();c.originalEvent.preventDefault();c.originalEvent.stopPropagation()}.bind(this));this.getEditButton().on(d.events.activate,function(b,c){a("body").trigger(i.editLogentry,[this.getUserId(),this.getLogentryId()]);this.hide();b.preventDefault();b.stopPropagation();c.originalEvent.preventDefault();c.originalEvent.stopPropagation()}.bind(this))};if(!k){f.register(m.TYPE,m,"local_booking/logentry_summary_modal");k=!0}return m});
//# sourceMappingURL=modal_logentry_summary.min.js.map
