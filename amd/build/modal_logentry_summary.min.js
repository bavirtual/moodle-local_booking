define ("local_booking/modal_logentry_summary",["jquery","core/custom_interaction_events","core/modal","core/modal_registry","core/modal_events","local_booking/events","local_booking/booking_actions"],function(a,b,c,d,e,f,g){var h=!1,i={ROOT:"[data-region='summary-modal-container']",EDIT_BUTTON:"[data-action=\"edit\"]",DELETE_BUTTON:"[data-action=\"delete\"]",FEEDBACK_BUTTON:"[data-action=\"feedback\"]"},j=function(a){c.call(this,a)};j.TYPE="local_booking-logentry_summary";j.prototype=Object.create(c.prototype);j.prototype.constructor=j;j.prototype.getFeedbackButton=function(){if("undefined"==typeof this.feedbackButton){this.feedbackButton=this.getFooter().find(i.FEEDBACK_BUTTON)}return this.feedbackButton};j.prototype.getEditButton=function(){if("undefined"==typeof this.editButton){this.editButton=this.getFooter().find(i.EDIT_BUTTON)}return this.editButton};j.prototype.getDeleteButton=function(){if("undefined"==typeof this.deleteButton){this.deleteButton=this.getFooter().find(i.DELETE_BUTTON)}return this.deleteButton};j.prototype.getLogentryId=function(){return this.getBody().find(i.ROOT).attr("data-logentry-id")};j.prototype.getStudentId=function(){return this.getBody().find(i.ROOT).attr("data-student-id")};j.prototype.getLogentryTitle=function(){return this.getBody().find(i.ROOT).attr("data-logentry-title")};j.prototype.registerEventListeners=function(){c.prototype.registerEventListeners.call(this);M.util.js_pending("local_booking/modal_logentry_summary:registerEventListeners:bodyRendered");this.getRoot().on(e.bodyRendered,function(){this.getModal().data({logentryTitle:this.getLogentryTitle(),logentryId:this.getLogentryId()}).attr("data-type","logentry");g.registerDelete(this.getModal());g.registerRedirect(this.getModal());M.util.js_complete("local_booking/modal_logentry_summary:registerEventListeners:bodyRendered")}.bind(this));a("body").on(f.deleted,function(){this.hide()}.bind(this));a("body").on(f.gotoFeedback,function(){this.hide()}.bind(this));b.define(this.getEditButton(),[b.events.activate]);this.getEditButton().on(b.events.activate,function(b,c){a("body").trigger(f.editLogentry,[this.getLogentryId(),this.getStudentId()]);this.hide();b.preventDefault();b.stopPropagation();c.originalEvent.preventDefault();c.originalEvent.stopPropagation()}.bind(this))};if(!h){d.register(j.TYPE,j,"local_booking/logentry_summary_modal");h=!0}return j});
//# sourceMappingURL=modal_logentry_summary.min.js.map
