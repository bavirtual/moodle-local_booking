define ("local_booking/booking",["jquery","core/str","local_booking/booking_view_manager","local_booking/booking_actions","local_booking/logentry","local_booking/events"],function(a,b,c,d,e,f){var g={CANCEL_BUTTON:"[data-region='cancel-button']",OVERRIDE_BUTTON:"[data-region='override-button']"},h=function(b){var d=a("body");d.on(f.canceled,function(){c.refreshInstructorDashboardContent(b);c.refreshMyBookingsContent(b)});d.on(f.created,function(){c.refreshInstructorDashboardContent(b)});d.on(f.updated,function(){c.refreshInstructorDashboardContent(b)});d.on(f.deleted,function(){c.refreshInstructorDashboardContent(b)})},i=function(a){h(a);a.on("click",g.CANCEL_BUTTON,function(c){b.get_string("cancellationcomment","local_booking").then(function(b){var e=prompt(b);if(null!==e){d.cancelBooking(a,c,e)}}).catch(Notification.exception)});a.on("click",g.OVERRIDE_BUTTON,function(){return d.overrideRestriction(a)})};return{init:function init(b){b=a(b);e.init(b);i(b)}}});
//# sourceMappingURL=booking.min.js.map
