{"version":3,"sources":["../src/time_format.js"],"names":["define","$","initTimeHHMM","attr","bind","keydown","CheckNum","blur","formateHHMM","focus","unformateHHMM","e","inArray","keyCode","ctrlKey","metaKey","shiftKey","preventDefault","val","replace","str","length","slice","mm","parseInt","substr","hh","formate","init"],"mappings":"AAwBCA,OAAM,6BAAC,CACJ,QADI,CAAD,CAGP,SAASC,CAAT,CAAY,IAEJC,CAAAA,CAAY,CAAG,UAAW,CAC1BD,CAAC,CAAC,YAAD,CAAD,CAAgBE,IAAhB,CAAqB,WAArB,CAAkC,GAAlC,EACAF,CAAC,CAAC,YAAD,CAAD,CAAgBE,IAAhB,CAAqB,aAArB,CAAoC,OAApC,EACAF,CAAC,CAAC,YAAD,CAAD,CAAgBG,IAAhB,CAAqB,CACjBC,OAAO,CAAEC,CADQ,CAEjBC,IAAI,CAAEC,CAFW,CAGjBC,KAAK,CAAEC,CAHU,CAArB,CAKH,CAVO,CAYJJ,CAAQ,CAAG,SAASK,CAAT,CAAY,CAEvB,GAAiD,CAAC,CAA9C,GAAAV,CAAC,CAACW,OAAF,CAAUD,CAAC,CAACE,OAAZ,CAAqB,CAAC,EAAD,CAAK,CAAL,CAAQ,CAAR,CAAW,EAAX,CAAe,EAAf,CAArB,GAEe,EAAd,GAAAF,CAAC,CAACE,OAAF,GAAqB,KAAAF,CAAC,CAACG,OAAF,EAAsB,KAAAH,CAAC,CAACI,OAA7C,CAFD,EAIc,EAAb,EAAAJ,CAAC,CAACE,OAAF,EAAgC,EAAb,EAAAF,CAAC,CAACE,OAJ1B,CAI0C,CAElC,MACP,CAED,GAAI,CAACF,CAAC,CAACK,QAAF,EAA2B,EAAZ,CAAAL,CAAC,CAACE,OAAF,EAA8B,EAAZ,CAAAF,CAAC,CAACE,OAApC,IAAmE,EAAZ,CAAAF,CAAC,CAACE,OAAF,EAA8B,GAAZ,CAAAF,CAAC,CAACE,OAA3E,CAAJ,CAA+F,CAC3FF,CAAC,CAACM,cAAF,EACH,CACJ,CA1BO,CA2BJP,CAAa,CAAG,UAAW,CAC3BT,CAAC,CAAC,IAAD,CAAD,CAAQiB,GAAR,CAAYjB,CAAC,CAAC,IAAD,CAAD,CAAQiB,GAAR,GAAcC,OAAd,CAAsB,GAAtB,CAA2B,EAA3B,CAAZ,CACH,CA7BO,CA+BJX,CAAW,CAAG,UAAW,CACzB,GAAIY,CAAAA,CAAG,CAAGnB,CAAC,CAAC,IAAD,CAAD,CAAQiB,GAAR,EAAV,CACA,GAAiB,CAAb,CAAAE,CAAG,CAACC,MAAR,CAAoB,CAChBD,CAAG,CAAG,CAAC,IAAMA,CAAP,EAAYE,KAAZ,CAAkB,CAAC,CAAnB,CACT,CAFD,IAEO,CACHF,CAAG,CAAG,CAAC,IAAMA,CAAN,CAAY,IAAb,EAAmBE,KAAnB,CAAyB,CAAC,CAA1B,CACT,CANwB,GAQrBC,CAAAA,CAAE,CAAGC,QAAQ,CAACJ,CAAG,CAACK,MAAJ,CAAW,CAAX,CAAc,CAAd,CAAD,CARQ,CASrBC,CAAE,CAAGF,QAAQ,CAACJ,CAAG,CAACE,KAAJ,CAAU,CAAV,CAAY,CAAZ,CAAD,CATQ,CAUzB,GAAS,EAAL,CAAAC,CAAJ,CAAa,CACTA,CAAE,CAAGA,CAAE,CAAG,EACb,CAED,GAAS,EAAL,CAAAG,CAAJ,CAAa,CACTA,CAAE,CAAGA,CAAE,CAAG,EACb,CAEDH,CAAE,CAAG,CAAC,IAAMA,CAAP,EAAWD,KAAX,CAAiB,CAAC,CAAlB,CAAL,CACAI,CAAE,CAAG,CAAC,IAAMA,CAAP,EAAWJ,KAAX,CAAiB,CAAC,CAAlB,CAAL,CACA,GAAIK,CAAAA,CAAO,CAAGD,CAAE,CAAG,GAAL,CAAWH,CAAzB,CACAtB,CAAC,CAAC,IAAD,CAAD,CAAQiB,GAAR,CAAYS,CAAZ,CACH,CArDO,CAuDR,MAAO,CACHC,IAAI,CAAE,eAAW,CACb1B,CAAY,EACf,CAHE,CAKV,CA/DM,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * A javascript module to handler calendar view changes.\n *\n * @module     local_booking/time_format\n * @author     Mustafa Hajjar (mustafahajjar@gmail.com)\n * @copyright  BAVirtual.co.uk Â© 2021\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n define([\n    'jquery',\n],\nfunction($) {\n\n    var initTimeHHMM = function() {\n        $(\".time-hhmm\").attr('maxlength', '4');\n        $(\".time-hhmm\").attr('placeholder', 'HH:MM');\n        $(\".time-hhmm\").bind({\n            keydown: CheckNum,\n            blur: formateHHMM,\n            focus: unformateHHMM\n        });\n    };\n\n    var CheckNum = function(e) {\n        // Allow: backspace, delete, tab, escape, enter and .\n        if ($.inArray(e.keyCode, [46, 8, 9, 27, 13]) !== -1 ||\n            // Allow: Ctrl+A, Command+A\n            (e.keyCode === 65 && (e.ctrlKey === true || e.metaKey === true)) ||\n            // Allow: home, end, left, right, down, up\n            (e.keyCode >= 35 && e.keyCode <= 40)) {\n                // Let it happen, don't do anything\n                return;\n        }\n        // Ensure that it is a number and stop the keypress\n        if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {\n            e.preventDefault();\n        }\n    };\n    var unformateHHMM = function() {\n        $(this).val($(this).val().replace(':', ''));\n    };\n\n    var formateHHMM = function() {\n        var str = $(this).val();\n        if (str.length > 2) {\n            str = ('0' + str).slice(-4);\n        } else {\n            str = ('0' + str + '00').slice(-4);\n        }\n\n        var mm = parseInt(str.substr(2, 2));\n        var hh = parseInt(str.slice(0,2));\n        if (mm > 59) {\n            mm = mm - 60;\n        }\n\n        if (hh > 23) {\n            hh = hh % 24;\n        }\n\n        mm = ('0' + mm).slice(-2);\n        hh = ('0' + hh).slice(-2);\n        var formate = hh + ':' + mm;\n        $(this).val(formate);\n    };\n\n    return {\n        init: function() {\n            initTimeHHMM();\n        }\n    };\n});\n"],"file":"time_format.min.js"}