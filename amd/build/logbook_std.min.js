/**
 * This module is responsible for registering listeners
 * for logbook std view events.
 *
 * @module     local_booking/logbook_std
 * @author     Mustafa Hajjar (mustafahajjar@gmail.com)
 * @copyright  BAVirtual.co.uk Â© 2023
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("local_booking/logbook_std",["jquery","core/str","core/pending","core/modal_factory","core/notification","local_booking/booking_view_manager","local_booking/booking_actions","local_booking/events","local_booking/modal_logentry_form","local_booking/selectors"],(function($,Str,Pending,ModalFactory,Notification,ViewManager,BookingActions,BookingEvents,ModalLogentryEditForm,Selectors){var registerLogentryEditForm=function(root,e,contextId,courseId,userId,logentryId){var LogentryFormPromise=ModalFactory.create({type:ModalLogentryEditForm.TYPE,large:!0}),target=e.target,pendingPromise=new Pending("local_booking/registerLogentryEditForm");ViewManager.renderLogentryModal(root,e,LogentryFormPromise,target,contextId,courseId,userId,logentryId,!1,"local_booking/logbook_std").then(pendingPromise.resolve()).catch()};return{init:function(root){!function(root){var contextId=$(Selectors.logbookwrapper).data("contextid"),courseId=$(Selectors.logbookwrapper).data("courseid"),userId=$(Selectors.logbookwrapper).data("userid");contextId&&root.on("click",Selectors.actions.edit,(function(e){var logentryId=e.target.closest(Selectors.containers.summaryForm).dataset.logentryId;e.preventDefault(),e.stopPropagation(),registerLogentryEditForm(root,e,contextId,courseId,userId,logentryId),e.stopImmediatePropagation()}))}(root=$(root)),ViewManager.stopLoading(root)}}}));

//# sourceMappingURL=logbook_std.min.js.map