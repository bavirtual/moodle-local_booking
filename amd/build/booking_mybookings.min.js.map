{"version":3,"file":"booking_mybookings.min.js","sources":["../src/booking_mybookings.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * This module is responsible for registering listeners\n * for the instructor's 'My bookings' events.\n *\n * @module     local_booking/booking_mybookings\n * @author     Mustafa Hajjar (mustafa.hajjar)\n * @copyright  BAVirtual.co.uk Â© 2024\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine([\n        'jquery',\n        'local_booking/booking_view_manager',\n        'local_booking/booking_actions',\n        'local_booking/events',\n        'local_booking/selectors'\n    ],\n    function(\n        $,\n        ViewManager,\n        BookingActions,\n        BookingEvents,\n        Selectors\n    ) {\n\n    /**\n     * Listen to and handle any logentry events fired by\n     * Logentry and PIREP the modal forms.\n     *\n     * @method registerMyBookingsEventListeners\n     * @param  {object} root The booking root element\n     */\n    const registerMyBookingsEventListeners = function(root) {\n        const body = $('body');\n\n        body.on(BookingEvents.bookingCanceled + \" \" + BookingEvents.noshowProcessed, function() {\n            ViewManager.refreshMyBookingsContent(root);\n        });\n\n        // Listen to the click on the Cancel booking buttons in 'Instructor dashboard' page.\n        root.on('click', Selectors.regions.cancelbutton, function(e) {\n            BookingActions.cancelBooking(root, e);\n        });\n\n        // Listen to the click on the 'No-show' booking buttons in 'Instructor dashboard' page.\n        root.on('click', Selectors.regions.noshowbutton, function (e) {\n            BookingActions.processNoShow(root, e);\n        });\n    };\n\n    return {\n        init: function(rt) {\n            var root = $(rt);\n            registerMyBookingsEventListeners(root);\n        }\n    };\n});\n"],"names":["define","$","ViewManager","BookingActions","BookingEvents","Selectors","init","rt","root","on","bookingCanceled","noshowProcessed","refreshMyBookingsContent","regions","cancelbutton","e","cancelBooking","noshowbutton","processNoShow","registerMyBookingsEventListeners"],"mappings":";;;;;;;;;AAyBAA,0CAAO,CACC,SACA,qCACA,gCACA,uBACA,4BAEJ,SACIC,EACAC,YACAC,eACAC,cACAC,iBA4BG,CACHC,KAAM,SAASC,KAnBsB,SAASC,MACjCP,EAAE,QAEVQ,GAAGL,cAAcM,gBAAkB,IAAMN,cAAcO,iBAAiB,WACzET,YAAYU,yBAAyBJ,SAIzCA,KAAKC,GAAG,QAASJ,UAAUQ,QAAQC,cAAc,SAASC,GACtDZ,eAAea,cAAcR,KAAMO,MAIvCP,KAAKC,GAAG,QAASJ,UAAUQ,QAAQI,cAAc,SAAUF,GACvDZ,eAAee,cAAcV,KAAMO,MAOnCI,CADWlB,EAAEM"}