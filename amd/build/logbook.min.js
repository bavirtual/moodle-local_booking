function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}define ("local_booking/logbook",["exports","jquery","local_booking/jquery.dataTables","local_booking/dataTables.bootstrap4","core/notification","local_booking/repository","local_booking/booking_view_manager","local_booking/datatables"],function(a,b,c,d,e,f,g){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=j(b);e=j(e);f=i(f);g=i(g);function h(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;h=function(){return a};return a}function i(a){if(a&&a.__esModule){return a}if(null===a||"object"!==_typeof(a)&&"function"!=typeof a){return{default:a}}var b=h();if(b&&b.has(a)){return b.get(a)}var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a){if(Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;if(f&&(f.get||f.set)){Object.defineProperty(c,e,f)}else{c[e]=a[e]}}}c.default=a;if(b){b.set(a,c)}return c}function j(a){return a&&a.__esModule?a:{default:a}}var k=function(a){g.startLoading(a);var c=(0,b.default)(a).data("courseid"),d=(0,b.default)(a).data("userid"),h=[];return f.getPilotLogbook(c,d).then(function(a){a.forEach(function(a){h.push([a.flightdate,a.depicao,a.deptime,a.arricao,a.arrtime,a.aircraft,a.aircraftreg!==void 0?a.aircraftreg:"","SE"==a.enginetype?"X":"","ME"==a.enginetype?"X":"",a.multipilot!==void 0?a.multipilot:"",a.pictime,a.p1name,a.landingsday,a.landingsnight,a.nighttime,a.ifrtime,a.pictime,a.copilottime,a.dualtime,a.instructortime,a.picustime!==void 0?a.picustime:"",a.fstd,a.remarks])});(0,b.default)("#logbook").DataTable({data:h,order:[[0,"desc"]],lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],columnDefs:[{width:"80px",targets:0},{width:"50px",targets:1},{width:"45px",targets:2},{width:"50px",targets:3},{width:"45px",targets:4},{width:"50px",targets:5},{width:"50px",targets:6},{width:"25px",className:"dt-center",targets:7},{width:"25px",className:"dt-center",targets:8},{width:"45px",targets:9},{width:"45px",targets:10},{width:"160px",targets:11},{width:"35px",className:"dt-center",targets:12},{width:"35px",className:"dt-center",targets:13},{width:"50px",targets:14},{width:"45px",targets:15},{width:"45px",targets:16},{width:"45px",targets:17},{width:"45px",targets:18},{width:"45px",targets:19},{width:"45px",targets:20},{width:"30px",targets:21},{width:"200px",targets:22}],footerCallback:function footerCallback(){var a=this.api(),c=function(a){return parseInt("string"==typeof a?parseInt(60*a.substring(0,a.indexOf(":")))+parseInt(a.substring(a.indexOf(":")+1,a.length)):"number"==typeof a?a:0)},d=a.column(9,{page:"current"}).data().reduce(function(d,a){return c(d)+c(a)},0),e=a.column(10,{page:"current"}).data().reduce(function(d,a){return c(d)+c(a)},0),f=a.column(12,{page:"current"}).data().reduce(function(d,a){return c(d)+c(a)},0),g=a.column(13,{page:"current"}).data().reduce(function(d,a){return c(d)+c(a)},0),h=a.column(14,{page:"current"}).data().reduce(function(d,a){return c(d)+c(a)},0),i=a.column(15,{page:"current"}).data().reduce(function(d,a){return c(d)+c(a)},0),j=a.column(16,{page:"current"}).data().reduce(function(d,a){return c(d)+c(a)},0),k=a.column(17,{page:"current"}).data().reduce(function(d,a){return c(d)+c(a)},0),l=a.column(18,{page:"current"}).data().reduce(function(d,a){return c(d)+c(a)},0),m=a.column(19,{page:"current"}).data().reduce(function(d,a){return c(d)+c(a)},0),n=a.column(20,{page:"current"}).data().reduce(function(d,a){return c(d)+c(a)},0),o=function(a){var b=a;if(0<a){var c=parseInt(a/60);c=10>c?("00"+c).substring(("00"+c).length,-2):c;var d="00"+a%60;b=c+":"+d.substring(d.length-2)}return b};(0,b.default)(a.column(9).footer()).html(0!=d?o(d):"");(0,b.default)(a.column(10).footer()).html(o(e));(0,b.default)(a.column(12).footer()).html(0!=f?f:"");(0,b.default)(a.column(13).footer()).html(0!=g?g:"");(0,b.default)(a.column(14).footer()).html(0!=h?o(h):"");(0,b.default)(a.column(15).footer()).html(0!=i?o(i):"");(0,b.default)(a.column(16).footer()).html(0!=j?o(j):"");(0,b.default)(a.column(17).footer()).html(0!=k?o(k):"");(0,b.default)(a.column(18).footer()).html(0!=l?o(l):"");(0,b.default)(a.column(19).footer()).html(0!=m?o(m):"");(0,b.default)(a.column(20).footer()).html(0!=n?o(n):"")},processing:!0})}).always(function(){g.stopLoading(a)}).fail(e.default.exception)};a.init=k});
//# sourceMappingURL=logbook.min.js.map
